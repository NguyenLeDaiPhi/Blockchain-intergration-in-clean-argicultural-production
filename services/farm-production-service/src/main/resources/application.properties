spring.application.name=Farm_Management
# Cổng 8081: Tránh đụng Farm Production (8080) và Blockchain Adapter (8082)
server.port=8081

# === CẤU HÌNH DATABASE (Đã sửa cho khớp hạ tầng Docker) ===
# 1. Dùng tên container 'farm-production-db' thay vì localhost
# 2. Port internal: 3306 (không phải 3308 - đó là port mapping)
# 3. Database Name: farm_production_db (khớp với docker-compose.yml)
# 4. createDatabaseIfNotExist=true: Tự tạo DB nếu chưa có
spring.datasource.url=${spring.datasource.url:jdbc:mysql://farm-production-db:3306/farm_production_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true}

# 4. User/Pass: Khớp với Docker Compose
spring.datasource.username=${spring.datasource.username:root}
spring.datasource.password=${spring.datasource.password:0862264719Phi}

spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# === JPA & HIBERNATE ===
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# === SWAGGER UI ===
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs
# === RABBITMQ CONFIGURATION ===
# Dùng tên container 'bicap-message-queue' thay vì localhost
spring.rabbitmq.host=${SPRING_RABBITMQ_HOST:bicap-message-queue}
spring.rabbitmq.port=5672
spring.rabbitmq.username=${SPRING_RABBITMQ_USERNAME:root}
spring.rabbitmq.password=${SPRING_RABBITMQ_PASSWORD:root}

# Tên Queue (Phải khớp với bên Blockchain Adapter)
bicap.rabbitmq.exchange=bicap_exchange
bicap.rabbitmq.queue.request=farm_request_queue
bicap.rabbitmq.queue.response=farm_response_queue
bicap.rabbitmq.routing-key.request=bicap_routing_key
bicap.rabbitmq.routing-key.response=bicap_routing_key_response
# === OPEN WEATHER MAP CONFIG ===
weather.api.key=67af56b62c186910026a79d025a8e931
weather.city=Ho Chi Minh City
weather.url=https://api.openweathermap.org/data/2.5/weather?q={city}&appid={key}&units=metric
# === SECURITY CONFIG (Phải khớp với Auth Service) ===
bicap.app.jwtSecret=YmljYXAtc2VjcmV0LWtleS1mb3Itand0LWF1dGhlbnRpY2F0aW9u
